"0","# Need a variable for first period of treatment (see below)
# Note: there has to be a cleaner way to make this work, but I haven't found it yet. 
regdata_dte <- regdata_dte %>%
  mutate(firsttreat = ifelse(treated==1,dateid,NA)) %>%
  group_by(stateid) %>% 
  mutate(firsttreat = min(firsttreat,na.rm=T)) %>% # first period where observation is treated
  mutate(firsttreat = ifelse(is.infinite(firsttreat),0,firsttreat)) # want untreated units to have a 0
"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
"2","Warning: no non-missing arguments to min; returning Inf"
